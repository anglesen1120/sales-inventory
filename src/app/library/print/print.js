"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var localstorageconfig_1 = require("../clientconfig/localstorageconfig");
var format_1 = require("../format/format");
var jsbarcode = require("jsbarcode");
var string_1 = require("../string/string");
var Print = /** @class */ (function () {
    function Print() {
    }
    Print.registrationPrint = function (ord, dataSource, customerInfo) {
        if (parseInt(ord) < 10)
            ord = "0" + ord;
        var user = localstorageconfig_1.LocalStorageConfig.GetUser(), total = 0;
        //khởi tạo thẻ barcode, sau đó bỏ thẻ barcode đã được khởi tạo vào html
        var parser = new DOMParser();
        var svg = "<svg class=\"barcode\"></svg>";
        var parsedHtml = parser.parseFromString(svg, 'text/html');
        //chi tiết tại https://github.com/lindell/JsBarcode
        jsbarcode(parsedHtml.getElementsByClassName('barcode')[0], customerInfo.CusCode, {
            width: 2,
            height: 40,
            margin: 0,
            displayValue: true,
        });
        var svgHtml = parsedHtml.getElementsByClassName('barcode')[0].outerHTML;
        var date = format_1.Format.getDatePrint(new Date());
        total = dataSource.reduce(function (prev, curr) {
            //convert string kiểu "2,222" => string "2222"
            var regex = new RegExp('[^' + string_1.String.DECIMAL_SEPARATOR + '\\d]', 'g'), curr_number = curr.Price.toString().replace(regex, ''), 
            //giá trị prev đầu tiên là object, những lần sau là giá trị đã cộng
            prev_number = prev.toString().replace(regex, '');
            //prev_number = typeof prev === 'object' ? prev.Price.toString().replace(regex, '') : prev.toString().replace(regex, '');
            //cộng số đã convert
            return parseInt(prev_number) + parseInt(curr_number);
        }, 0);
        var html = "<!doctype html>\n<html lang=\"en\">\n<head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <style>\n        @page\n        {\n            size: auto;\n            margin: 10mm 3mm 10mm 3mm;\n        }\n        .header {\n            text-align:center;\n            border-bottom: 2px solid #69a3d8;\n        }\n        .header .info-store {\n            font-size: 11px;\n        }\n        .header .info-store p{\n            font-size: 11px;\n        }\n        .header .info-store p,.header .info-store h3{\n            margin:0;\n        }\n        .header .info-store p:last-child, .content-info p:last-child{\n            margin-bottom:5px;\n        }\n        .title {\n            border-top: 5px solid #1b3e77;\n            text-align:center;\n        }\n        .title h3 {\n            border: 1px dotted #69a3d8;\n            border-radius: 10px;\n            margin-top: 5px;\n        }\n\n        .right h3{\n            margin-bottom: 0;\n        }\n        .right div{\n            display: flex;\n        }\n        .right p:nth-child(2){\n            margin-left: 15px;\n        }\n        .content-service {\n            border-bottom: 1px solid #ccc;\n            border-top: 1px solid #ccc;\n        }\n        .footer{\n            float: right;\n            text-align: right;\n        }\n        .footer p:nth-child(1n+1){\n            text-align: center;\n        }\n        p{\n            font-size: 15px;\n        }\n        .content-info{\n            line-height: 15px;\n            margin-top: -15px;\n        }\n        .content-info h5{\n            margin-bottom: 2px;\n            text-transform: uppercase;\n        }\n        .right{\n            text-align: right;\n        }\n        .text-center{\n            text-align: center;\n        }\n        .content-service{\n            padding-top:20px;\n        }\n        .content-service .row{\n            display: flex;\n            font-style: italic;\n            word-break: break-all;\n            line-height:0.5;\n            margin-top:-20px;\n        }\n        .service_name{\n            width:75%;\n            word-break: break-all;\n            line-height: 1;\n        }\n        .service_price{\n            margin-top:18px;\n            width: 25%;\n            text-align: right;\n            display:block;\n        }\n        .total p{\n            font-size:15px;\n            font-weight: bold;\n            word-break: break-all;\n        }\n        .svg{\n            margin-top: 15px;\n        }\n        .content-info p{\n            font-size:11px;\n            margin-top:2px;\n            margin-bottom:2px;\n        }\n        .header .img img{\n            width:150px;\n            height:40px;\n        }\n        .header .info-store h3{\n            text-transform: uppercase;\n        }\n        .date{\n            margin-top: -10px;\n            margin-bottom: -10px;\n            font-size:11px;\n        }\n        .ord {\n            font-size:45px;\n        }\n    </style>\n</head>\n<body onload=\"window.print();window.close();\">\n    <div class=\"header\">\n        <div class=\"img\"><img src=\"assets/images/falinic.png\" /></div>\n        <div class=\"info-store\">\n            <h3>" + user.Data.TitleStore + "</h3>\n            <p>" + user.Data.AddressStore + "</p>\n            <p>\u0110T: " + user.Data.PhoneStore + "</p>\n            <p>Gi\u1EDD l\u00E0m vi\u1EC7c: S\u00E1ng <span>" + user.Data.StartWorkingStore + "</span></p>\n            <p>Chi\u1EC1u: <span>" + user.Data.EndWorkingStore + "</span> (Ng\u00E0y l\u1EC5 ngh\u1EC9)</p>\n        </div>\n    </div>\n    <div class=\"title\">\n        <h3>PHI\u1EBEU THU</h3>\n    </div>\n    <p class=\"date\">TH\u1EDCI GIAN: " + date + "</p>\n    <div class=\"content-info\">\n            <h5>KH: " + customerInfo.FullName + "</h5>\n            <p>Gi\u1EDBi t\u00EDnh: " + (customerInfo.Sex == 1 ? 'Nam' : 'Nữ') + "</p>\n            <p>Ng\u00E0y sinh: " + format_1.Format.formatDDMMYYY(customerInfo.Birthday) + "</p>\n            <p>S\u0110T: " + customerInfo.Phone1 + "</p>\n            <p>\u0110C: " + customerInfo.Address + " " + customerInfo.DistrictName + " " + customerInfo.ProvinceName + "</p>\n    </div>\n    <div class=\"content-service\">\n       " + dataSource.map(function (item, i) { return ("\n          <div class=\"row\">\n            <p class=\"service_name\"> " + (i + 1) + ". " + item.DetailName + "</p>\n            <p class=\"service_price\">" + string_1.String.FormatInputNumber(item.Price) + "</p>\n          </div>\n        ").trim(); }).join('') + "\n    </div>\n    <div class=\"total right\"><p>T\u1ED5ng: " + string_1.String.FormatInputNumber(total) + "</p></div>\n  <div class=\"text-center ord\"><span>STT : " + ord + "</span></div>\n  <div class=\"text-center svg\">" + svgHtml + "</div>\n</body>\n</html>\n\n";
        var a = window.open('', '_blank', 'top=0,left=0,height=800px,width=1350px');
        if (a == null)
            return;
        a.document.open();
        a.document.write(html);
        a.document.close();
    };
    Print.printPrescription = function (subjectData, dataSource) {
        var user = localstorageconfig_1.LocalStorageConfig.GetUser();
        var examination = format_1.Format.addDays(new Date(), parseInt(subjectData.Examination));
        //khởi tạo thẻ barcode, sau đó bỏ thẻ barcode đã được khởi tạo vào html
        var parser = new DOMParser();
        var svg = "<svg class=\"barcode\"></svg>";
        var parsedHtml = parser.parseFromString(svg, 'text/html');
        //chi tiết tại https://github.com/lindell/JsBarcode
        jsbarcode(parsedHtml.getElementsByClassName('barcode')[0], subjectData.CusCode, {
            width: 2,
            height: 40,
            margin: 0,
            displayValue: true,
        });
        var svgHtml = parsedHtml.getElementsByClassName('barcode')[0].outerHTML;
        var date = format_1.Format.formatDDMMYYY(new Date());
        var html = "<!doctype html>\n<html lang=\"en\">\n<head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <style>\n       .header {\n            text-align: center;\n            border-bottom: 2px solid #69a3d8;\n            display: flex;\n            height: 80px;\n            padding: 0 0 20px 0;\n        }\n        .header .img {\n            width: 30%;\n            text-align: left;\n        }\n        .header .img img {\n            width:100%;\n            height: 100%;\n        }\n        .header .info-store {\n            line-height: 2px;\n            font-size: 14px;\n            text-align: right;\n            width: 70%;\n        }\n        .header .info-store h3{\n            text-transform: uppercase;\n        }\n        .title {\n            border-top: 5px solid #1b3e77;\n            text-align:center;\n        }\n        .title h1 {\n            border: 1px dotted #69a3d8;\n            border-radius: 10px;\n            margin-top: 5px;\n        }\n\n        .right h3{\n            margin-bottom: 0;\n        }\n        .right div{\n            display: flex;\n        }\n        .right p:nth-child(2){\n            margin-left: 15px;\n        }\n        .left h3{\n            text-transform: uppercase;\n        }\n        .content-service {\n            border-bottom: 1px dotted #69a3d8;\n            border-top: 1px dotted #69a3d8;\n        }\n        .item_name{\n\t\t      width: 80%;\n\t\t\t    font-weight: bold;\n          word-break: break-all;\n          line-height: 15px;\n\t\t    }\n\t\t    .unit_name{\n\t\t\t    text-align: right;\n\t\t\t    width: 20%;\n          line-height: 15px;\n\t\t    }\n\t\t    .item_use,.item_note{\n\t\t\t    font-style: italic;\n\t\t    }\n        .m-5 p{\n          margin-top:5px;\n\t\t    }\n        .flex{\n\t\t\t    display: flex;\n\t\t    }\n\t\t    .flex .left{\n\t\t\t    width: 50%;\n\t\t    }\n        .flex .center{\n\t\t\t    width: 25%;\n\t\t    }\n        .flex .right{\n\t\t\t    width: 25%;\n\t\t    }\n        .flex p, .flex h3{\n          margin: 0;\n        }\n        .footer{\n            float: right;\n            text-align: right;\n        }\n        .footer p:nth-child(1n+1){\n            text-align: center;\n        }\n        p{\n            font-size: 12px;\n        }\n        .content-info{\n            line-height: 15px;\n        }\n        .content-info h3{\n            margin-bottom: 2px;\n            margin-top: 2px;\n        }\n        .right{\n            text-align: right;\n        }\n        @page  \n        { \n            size: auto;\n            margin: 15mm 15mm 15mm 15mm;  \n        }\n        .text-center{\n            text-align: center;\n        }\n        .content-service .row{\n            display: flex;\n        }\n        .content-service{\n            line-height: 0;\n        }\n        \n        .service_name{\n            width:80%;\n        }\n        .service_price{\n            width: 20%;\n            text-align: right;\n        }\n        .content-bottom{\n\t\t\t    display:flex;\n          margin-top: 5px;\n\t\t    }\n\t\t    .content-bottom .left{\n\t\t\t    width:60%;\n\t\t\t    position: relative;\n\t\t    }\n\t\t    .content-bottom .left .bottom{\n\t\t\t    position: absolute;\n\t\t\t    bottom: 0;\n\t\t    }\n\t\t    .content-bottom .right h3{\n\t\t\t    margin-top: 100px;\n\t\t    }\n\t\t    .content-bottom .right{\n\t\t\t    width:40%;\n\t\t    }\n        .float_right{float:right;}\n        .content-info p, .content-service p, .content-bottom p{\n            font-size: 15px;\n        }\n        .top h3, .top p{margin:2px;}\n        .svg{margin-top:10px;}\n        .first{width:300px;}\n        .second{\n            margin-left: 20px;\n        }\n        .examination{\n            text-decoration: underline;\n        }\n        .icdcode{\n          font-weight: bold;\n        }\n    </style>\n</head>\n<body onload=\"window.print();window.close();\">\n    <div class=\"header\">\n        <div class=\"img\"><img src=\"assets/images/falinic.png\" /></div>\n        <div class=\"info-store\">\n            <h3>" + user.Data.TitleStore + "</h3>\n            <p>" + user.Data.AddressStore + "</p>\n            <p>\u0110T: " + user.Data.PhoneStore + "</p>\n            <p>Gi\u1EDD l\u00E0m vi\u1EC7c: S\u00E1ng <span>" + user.Data.StartWorkingStore + "</span></p>\n            <p>Chi\u1EC1u: <span>" + user.Data.EndWorkingStore + "</span> (Ng\u00E0y l\u1EC5 ngh\u1EC9)</p>\n        </div>\n    </div>\n    <div class=\"title\">\n        <h1>TOA THU\u1ED0C</h1>\n    </div>\n    <div class=\"content-info\">\n      <div class=\"flex\">\n        <div class=\"left\"><h3>KH: " + subjectData.FullName + "</h3></div>\n        <div class=\"center\"><p>Gi\u1EDBi t\u00EDnh: " + (subjectData.Sex == 1 ? 'Nam' : 'Nữ') + "</p></div>\n        <div class=\"right\"><p>Ng\u00E0y sinh: " + format_1.Format.formatDDMMYYY(subjectData.Birthday) + "</p></div>\n      </div>\n      <p>\u0110C: " + subjectData.Address + " </p>\n      <p class=\"icdcode\">Ch\u1EA9n \u0111o\u00E1n: " + subjectData.ICDCode + " - " + subjectData.ICDCodeName + " </p>\n    </div>\n    <div class=\"content-service\">\n       " + dataSource.data.map(function (item, i) { return ("\n          <div class=\"row\">\n            <p class=\"item_name\"> " + (i + 1) + ". " + item.ItemName + "</p>\n            <p class=\"unit_name\">" + item.Quantity + " " + item.UnitName + "</p>\n          </div>\n          <div class=\"row m-5\">\n            <p class=\"item_use first\">- " + item.TimeUse + ": " + item.QuantityPerUse + " " + item.UnitName + " (" + item.UserUsing + ")</p><p class=\"second\">- C\u00E1ch d\u00F9ng: " + item.ItemUsing + "</p>\n          </div>\n          <div class=\"row m-5\">\n            <p class=\"item_note\">- L\u1EDDi d\u1EB7n: " + (item.Note != null ? item.Note : '') + "</p>\n          </div>\n        ").trim(); }).join('') + "\n    </div>\n    <div class=\"content-bottom\">\n\t\t  <div class=\"left\">\n\t\t\t  <div class=\"top\">\n\t\t\t\t  <p>L\u1EDDi d\u1EB7n: <span>" + subjectData.Advice + "</span></p>\n\t\t\t\t  <p class=\"examination\">Ng\u00E0y t\u00E1i kh\u00E1m: " + examination + "</span></p><span>\n\t\t\t  </div>\n        <div class=\"svg\">" + svgHtml + "</div>\n\t\t\t  <div class=\"bottom\">\n\t\t\t\t  <span>Khi t\u00E1i kh\u00E1m nh\u1EDB mang theo gi\u1EA5y t\u1EDD li\u00EAn quan</span>\n\t\t\t  </div>\n\t\t  </div>\n\t\t  <div class=\"right\">\n\t\t\t  <p>Ng\u00E0y " + format_1.Format.getDD(new Date()) + " th\u00E1ng " + format_1.Format.getMM(new Date()) + " n\u0103m " + format_1.Format.getYYYY(new Date()) + "</p>\n        <h3>" + user.Data.Position + "</h3>\n\t\t  </div>\n\t  </div>\n</body>\n</html>\n\n\n";
        //<h3>${user.Data.Position}. ${user.Data.FullName}</h3>
        var a = window.open('', '_blank', 'top=0,left=0,height=800px,width=1350px');
        if (a == null)
            return;
        a.document.open();
        a.document.write(html);
        a.document.close();
    };
    Print.paymentPrintConfigGroup = function (ord, isGroupService, showPrice, dataSource, customerInfo, totalGroup) {
        if (parseInt(ord) < 10)
            ord = "0" + ord;
        var displayShowPrice = "block", displayShowDetailPrice = "", marginTop = "15px", user = localstorageconfig_1.LocalStorageConfig.GetUser(), total = 0;
        if (isGroupService) {
            displayShowDetailPrice = "hidden-price";
            total = totalGroup;
        }
        else {
            //in service
            dataSource;
            if (!showPrice) {
                //k show price
                displayShowPrice = "none";
                marginTop = "15px";
            }
        }
        //khởi tạo thẻ barcode, sau đó bỏ thẻ barcode đã được khởi tạo vào html
        var parser = new DOMParser();
        var svg = "<svg class=\"barcode\"></svg>";
        var parsedHtml = parser.parseFromString(svg, 'text/html');
        //chi tiết tại https://github.com/lindell/JsBarcode
        jsbarcode(parsedHtml.getElementsByClassName('barcode')[0], customerInfo.CusCode, {
            width: 2,
            height: 40,
            margin: 0,
            displayValue: true,
        });
        var svgHtml = parsedHtml.getElementsByClassName('barcode')[0].outerHTML;
        var date = format_1.Format.getDatePrint(new Date());
        if (!isGroupService) {
            total = dataSource.reduce(function (prev, curr) {
                //convert string kiểu "2,222" => string "2222"
                var regex = new RegExp('[^' + string_1.String.DECIMAL_SEPARATOR + '\\d]', 'g'), curr_number = curr.Price.toString().replace(regex, ''), 
                //giá trị prev đầu tiên là object, những lần sau là giá trị đã cộng
                prev_number = prev.toString().replace(regex, '');
                //prev_number = typeof prev === 'object' ? prev.Price.toString().replace(regex, '') : prev.toString().replace(regex, '');
                //cộng số đã convert
                return parseInt(prev_number) + parseInt(curr_number);
            }, 0);
        }
        var html = "<!doctype html>\n<html lang=\"en\">\n<head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <style>\n        @page  \n        { \n            size: auto;\n            margin: 10mm 3mm 10mm 3mm;  \n        }\n        .header {\n            text-align:center;\n            border-bottom: 2px solid #69a3d8;\n        }\n        .header .info-store {\n            font-size: 12px;\n        }\n        .header .info-store p{\n            font-size: 11px;\n        }\n        .header .info-store p,.header .info-store h3{\n            margin:0;\n        }\n        .header .info-store p:last-child, .content-info p:last-child{\n            margin-bottom:5px;\n        }\n        .title {\n            border-top: 5px solid #1b3e77;\n            text-align:center;\n        }\n        .title h3 {\n            border: 1px dotted #69a3d8;\n            border-radius: 10px;\n            margin-top: 5px;\n        }\n\n        .right h3{\n            margin-bottom: 0;\n        }\n        .right div{\n            display: flex;\n        }\n        .right p:nth-child(2){\n            margin-left: 15px;\n        }\n        .content-service {\n            border-bottom: 1px solid #ccc;\n            border-top: 1px solid #ccc;\n        }\n        .footer{\n            float: right;\n            text-align: right;\n        }\n        .footer p:nth-child(1n+1){\n            text-align: center;\n        }\n        p{\n            font-size: 15px;\n        }\n        .content-info{\n            line-height: 15px;\n            margin-top: -15px;\n        }\n        .content-info h5{\n            margin-bottom: 2px;\n            text-transform: uppercase;\n        }\n        .right{\n            text-align: right;\n        }\n        .text-center{\n            text-align: center;\n        }\n        .content-service .row{\n            display: flex;\n            font-style: italic;\n            word-break: break-all;\n            line-height:0.5;\n            margin-top:-20px;\n        }\n        .content-service{\n            padding-top:20px;\n        }\n        .service_name{\n            width:75%;\n            word-break: break-all;\n            line-height: 1;\n        }\n        .service_price{\n            margin-top:18px;\n            width: 25%;\n            text-align: right;\n            display:" + displayShowPrice + ";\n        }\n        .total{\n            display:" + displayShowPrice + ";\n            \n        }\n        .total p{\n            font-size:15px;\n            font-weight: bold;\n            word-break: break-all\n        }\n        .svg{\n            margin-top:" + marginTop + ";\n        }\n        .content-info p{\n            font-size:11px;\n            margin-top:2px;\n            margin-bottom:2px;\n        }\n        .header .img img{\n            width:150px;\n            height:40px;\n        }\n        .header .info-store h3{\n            text-transform: uppercase;\n        }\n        .hidden-price{\n            display: none;\n        }\n        .date{\n            margin-top: -10px;\n            margin-bottom: -10px;\n            font-size:11px;\n        }\n        .ord {\n            font-size:45px;\n        }\n    </style>\n</head>\n<body onload=\"window.print();window.close();\">\n    <div class=\"header\">\n        <div class=\"img\"><img src=\"assets/images/falinic.png\" /></div>\n        <div class=\"info-store\">\n            <h3>" + user.Data.TitleStore + "</h3>\n            <p>" + user.Data.AddressStore + "</p>\n            <p>\u0110T: " + user.Data.PhoneStore + "</p>\n            <p>Gi\u1EDD l\u00E0m vi\u1EC7c: S\u00E1ng <span>" + user.Data.StartWorkingStore + "</span></p>\n            <p>Chi\u1EC1u: <span>" + user.Data.EndWorkingStore + "</span> (Ng\u00E0y l\u1EC5 ngh\u1EC9)</p>\n        </div>\n    </div>\n    <div class=\"title\">\n        <h3>PHI\u1EBEU THU</h3>\n    </div>\n    <p class=\"date\">TH\u1EDCI GIAN: " + date + "</p>\n    <div class=\"content-info\">\n            <h5>KH: " + customerInfo.FullName + "</h5>\n            <p>Gi\u1EDBi t\u00EDnh: " + (customerInfo.Sex == 1 ? 'Nam' : 'Nữ') + "</p>\n            <p>Ng\u00E0y sinh: " + format_1.Format.formatDDMMYYY(customerInfo.Birthday) + "</p>\n            <p>\u0110C: " + customerInfo.Address + " </p>\n    </div>\n    <div class=\"content-service\">\n       " + dataSource.map(function (item, i) { return ("\n          <div class=\"row\">\n            <p class=\"service_name\"> " + (i + 1) + ". " + item.DetailName + "</p>\n            <p class=\"service_price " + displayShowDetailPrice + "\">" + string_1.String.FormatInputNumber(item.Price) + "</p>\n          </div>\n        ").trim(); }).join('') + "\n    </div>\n    <div class=\"total right\"><p>T\u1ED5ng: " + string_1.String.FormatInputNumber(total) + "</p></div>\n    <div class=\"text-center ord\"><span>STT : " + ord + "</span></div>\n    <div class=\"text-center svg\">" + svgHtml + "</div>\n  \n</body>\n</html>\n\n\n";
        var a = window.open('', '_blank', 'top=0,left=0,height=800px,width=1350px');
        if (a == null)
            return;
        a.document.open();
        a.document.write(html);
        a.document.close();
    };
    Print.paymentPrintConfig = function (ord, isGroupService, showPrice, dataSource, customerInfo, totalGroup) {
        if (parseInt(ord) < 10)
            ord = "0" + ord;
        var displayShowPrice = "block", displayShowDetailPrice = "", marginTop = "15px", className = "", user = localstorageconfig_1.LocalStorageConfig.GetUser(), total = 0;
        if (isGroupService) {
            dataSource.map(function (x) { return x.DetailName = x.GroupDetailName; });
            displayShowDetailPrice = "hidden-price";
            total = totalGroup;
            className = "isGroup";
        }
        else {
            //in service
            dataSource;
            if (!showPrice) {
                //k show price
                displayShowPrice = "none";
                marginTop = "15px";
            }
        }
        //khởi tạo thẻ barcode, sau đó bỏ thẻ barcode đã được khởi tạo vào html
        var parser = new DOMParser();
        var svg = "<svg class=\"barcode\"></svg>";
        var parsedHtml = parser.parseFromString(svg, 'text/html');
        //chi tiết tại https://github.com/lindell/JsBarcode
        jsbarcode(parsedHtml.getElementsByClassName('barcode')[0], customerInfo.CusCode, {
            width: 2,
            height: 40,
            margin: 0,
            displayValue: true,
        });
        var svgHtml = parsedHtml.getElementsByClassName('barcode')[0].outerHTML;
        var date = format_1.Format.getDatePrint(new Date());
        if (!isGroupService) {
            total = dataSource.reduce(function (prev, curr) {
                //convert string kiểu "2,222" => string "2222"
                var regex = new RegExp('[^' + string_1.String.DECIMAL_SEPARATOR + '\\d]', 'g'), curr_number = curr.Price.toString().replace(regex, ''), 
                //giá trị prev đầu tiên là object, những lần sau là giá trị đã cộng
                prev_number = prev.toString().replace(regex, '');
                //prev_number = typeof prev === 'object' ? prev.Price.toString().replace(regex, '') : prev.toString().replace(regex, '');
                //cộng số đã convert
                return parseInt(prev_number) + parseInt(curr_number);
            }, 0);
        }
        var html = "<!doctype html>\n<html lang=\"en\">\n<head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <style>\n        @page  \n        { \n            size: auto;\n            margin: 10mm 3mm 10mm 3mm;  \n        }\n        .header {\n            text-align:center;\n            border-bottom: 2px solid #69a3d8;\n        }\n        .header .info-store {\n            font-size: 11px;\n        }\n        .header .info-store p,.header .info-store h3{\n            margin:0;\n        }\n        .header .info-store p:last-child, .content-info p:last-child{\n            margin-bottom:5px;\n        }\n        .header .info-store p{\n            font-size: 11px;\n        }\n        .title {\n            border-top: 5px solid #1b3e77;\n            text-align:center;\n        }\n        .title h3 {\n            border: 1px dotted #69a3d8;\n            border-radius: 10px;\n            margin-top: 5px;\n        }\n\n        .right h3{\n            margin-bottom: 0;\n        }\n        .right div{\n            display: flex;\n        }\n        .right p:nth-child(2){\n            margin-left: 15px;\n        }\n        .content-service {\n            border-bottom: 1px solid #ccc;\n            border-top: 1px solid #ccc;\n        }\n        .footer{\n            float: right;\n            text-align: right;\n        }\n        .footer p:nth-child(1n+1){\n            text-align: center;\n        }\n        p{\n            font-size: 15px;\n        }\n        .content-info{\n            line-height: 15px;\n            margin-top: -15px;\n        }\n        .content-info h5{\n            margin-bottom: 2px;\n            text-transform: uppercase;\n        }\n        .right{\n            text-align: right;\n        }\n        .text-center{\n            text-align: center;\n        }\n        .content-service .row{\n            display: flex;\n            font-style: italic;\n            word-break: break-all;\n            line-height:0.5;\n            margin-top:-20px;\n        }\n        .content-service{\n            padding-top:20px;\n        }\n        .service_name{\n            width:75%;\n            word-break: break-all;\n            line-height: 1;\n        }\n        .service_price{\n            margin-top:18px;\n            width: 25%;\n            text-align: right;\n            display:" + displayShowPrice + ";\n        }\n        .total{\n            display:" + displayShowPrice + ";\n            \n        }\n        .total p{\n            font-size:15px;\n            font-weight: bold;\n            word-break: break-all\n        }\n        .svg{\n            margin-top:" + marginTop + ";\n        }\n        .content-info p{\n            font-size:11px;\n            margin-top:2px;\n            margin-bottom:2px;\n        }\n        .header .img img{\n            width:150px;\n            height:40px;\n        }\n        .header .info-store h3{\n            text-transform: uppercase;\n        }\n        .hidden-price{\n            display: none;\n        }\n        .isGroup .service_name{\n            width: 100%;\n        }\n        .date{\n            margin-top: -10px;\n            margin-bottom: -10px;\n            font-size:11px;\n        }\n        .ord {\n            font-size:45px;\n        }\n    </style>\n</head>\n<body onload=\"window.print();window.close();\">\n    <div class=\"header\">\n        <div class=\"img\"><img src=\"assets/images/falinic.png\" /></div>\n        <div class=\"info-store\">\n            <h3>" + user.Data.TitleStore + "</h3>\n            <p>" + user.Data.AddressStore + "</p>\n            <p>\u0110T: " + user.Data.PhoneStore + "</p>\n            <p>Gi\u1EDD l\u00E0m vi\u1EC7c: S\u00E1ng <span>" + user.Data.StartWorkingStore + "</span></p>\n            <p>Chi\u1EC1u: <span>" + user.Data.EndWorkingStore + "</span> (Ng\u00E0y l\u1EC5 ngh\u1EC9)</p>\n        </div>\n    </div>\n    <div class=\"title\">\n        <h3>PHI\u1EBEU THU</h3>\n    </div>\n    <p class=\"date\">TH\u1EDCI GIAN: " + date + "</p>\n    <div class=\"content-info\">\n            <h5>KH: " + customerInfo.FullName + "</h5>\n            <p>Gi\u1EDBi t\u00EDnh: " + (customerInfo.Sex == 1 ? 'Nam' : 'Nữ') + "</p>\n            <p>Ng\u00E0y sinh: " + format_1.Format.formatDDMMYYY(customerInfo.Birthday) + "</p>\n            <p>\u0110C: " + customerInfo.Address + " </p>\n    </div>\n    <div class=\"content-service\">\n       " + dataSource.map(function (item, i) { return ("\n          <div class=\"row " + className + "\">\n            <p class=\"service_name\"> " + (i + 1) + ". " + item.DetailName + "</p>\n            <p class=\"service_price " + displayShowDetailPrice + "\">" + string_1.String.FormatInputNumber(item.Price) + "</p>\n          </div>\n        ").trim(); }).join('') + "\n    </div>\n    <div class=\"total right\"><p>T\u1ED5ng: " + string_1.String.FormatInputNumber(total) + "</p></div>\n    <div class=\"text-center ord\"><span>STT : " + ord + "</span></div>\n    <div class=\"text-center svg\">" + svgHtml + "</div>\n</body>\n</html>\n\n\n";
        var a = window.open('', '_blank', 'top=0,left=0,height=800px,width=1350px');
        if (a == null)
            return;
        a.document.open();
        a.document.write(html);
        a.document.close();
    };
    Print.printChooseService = function (dataSource, customerInfo, title, groupServiceName) {
        if (groupServiceName === void 0) { groupServiceName = ""; }
        var displayShowGroup = "none", groupServiceClass = "";
        if (groupServiceName != "") {
            groupServiceClass = "group-service_item";
            displayShowGroup = "unset";
        }
        var user = localstorageconfig_1.LocalStorageConfig.GetUser();
        //khởi tạo thẻ barcode, sau đó bỏ thẻ barcode đã được khởi tạo vào html
        var parser = new DOMParser(), svg = "<svg class=\"barcode\"></svg>", parsedHtml = parser.parseFromString(svg, 'text/html');
        //chi tiết tại https://github.com/lindell/JsBarcode
        jsbarcode(parsedHtml.getElementsByClassName('barcode')[0], customerInfo.CusCode, {
            width: 2,
            height: 40,
            margin: 0,
            displayValue: true,
        });
        var svgHtml = parsedHtml.getElementsByClassName('barcode')[0].outerHTML;
        var date = format_1.Format.formatDDMMYYY(new Date());
        var html = "<!doctype html>\n<html lang=\"en\">\n<head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <style>\n       .header {\n            text-align: center;\n            border-bottom: 2px solid #69a3d8;\n            display: flex;\n            height: 80px;\n            padding: 0 0 20px 0;\n        }\n        .header .img {\n            width: 30%;\n            text-align: left;\n        }\n        .header .img img {\n            height: 100%;\n            width: 100%;\n        }\n        .header .info-store {\n            line-height: 2px;\n            font-size: 14px;\n            text-align: right;\n            width: 70%;\n        }\n       .header .info-store h3{\n            text-transform: uppercase;\n        }\n        .title {\n            border-top: 5px solid #1b3e77;\n            text-align:center;\n        }\n        .title h1 {\n            border: 1px dotted #69a3d8;\n            border-radius: 10px;\n            margin-top: 5px;\n        }\n\n        .right h3{\n            margin-bottom: 0;\n        }\n        .right div{\n            display: flex;\n        }\n        .right p:nth-child(2){\n            margin-left: 15px;\n        }\n        .left h3{\n            text-transform: uppercase;\n        }\n        .content-service {\n            border-bottom: 1px dotted #69a3d8;\n            border-top: 1px dotted #69a3d8;\n        }\n        .item_name{\n\t\t        width: 80%;\n\t\t\t      font-weight: bold;\n            word-break: break-all;\n\t\t    }\n\t\t    .unit_name{\n\t\t\t    text-align: right;\n\t\t\t    width: 20%;\n\t\t    }\n\t\t    .item_use,.item_note{\n\t\t\t    font-style: italic;\n\t\t    }\n        .m-5 p{\n          margin-top:5px;\n\t\t    }\n        .flex{\n\t\t\t    display: flex;\n\t\t    }\n\t\t    .flex .left{\n\t\t\t    width: 50%;\n\t\t    }\n        .flex .center{\n\t\t\t    width: 25%;\n\t\t    }\n        .flex .right{\n\t\t\t    width: 25%;\n\t\t    }\n        .flex p, .flex h3{\n          margin: 0;\n        }\n       .footer {\n            width: 100%;\n            text-align: right;\n            line-height: 8px;\n        }\n\n        .footer p {\n            text-align: right;\n            font-size: 15px;\n        }\n\n        .footer p:nth-child(2) {\n            margin-right: 55px;\n        }\n\n        .footer h3 {\n            margin-top: 100px;\n        }\n        .info-store p{\n            font-size: 12px;\n        }\n        .content-info{\n            line-height: 15px;\n        }\n        .content-info h3{\n            margin-bottom: 2px;\n            margin-top: 2px;\n        }\n        .right{\n            text-align: right;\n        }\n        @page  \n        { \n            size: auto;\n            margin: 15mm 15mm 15mm 15mm;  \n        }\n        .text-center{\n            text-align: center;\n        }\n        .item_name{\n            line-height: 5px;\n        }\n        .content-info p, .content-service p{\n            font-size: 15px;\n        }\n        .svg{margin-top:10px;}\n        .group-service_item{\n            padding-left:30px;\n        }\n        .group-service_name{\n            display: " + displayShowGroup + ";\n        }\n    </style>\n</head>\n<body onload=\"window.print();window.close();\">\n    <div class=\"header\">\n        <div class=\"img\"><img src=\"assets/images/falinic.png\" /></div>\n        <div class=\"info-store\">\n            <h3>" + user.Data.TitleStore + "</h3>\n            <p>" + user.Data.AddressStore + "</p>\n            <p>\u0110T: " + user.Data.PhoneStore + "</p>\n            <p>Gi\u1EDD l\u00E0m vi\u1EC7c: S\u00E1ng <span>" + user.Data.StartWorkingStore + "</span></p>\n            <p>Chi\u1EC1u: <span>" + user.Data.EndWorkingStore + "</span> (Ng\u00E0y l\u1EC5 ngh\u1EC9)</p>\n        </div>\n    </div>\n    <div class=\"title\">\n        <h1>" + title + "</h1>\n    </div>\n    <div class=\"content-info\">\n      <div class=\"flex\">\n        <div class=\"left\"><h3>KH: " + customerInfo.FullName + "</h3></div>\n        <div class=\"center\"><p>Gi\u1EDBi t\u00EDnh: " + (customerInfo.Sex == 1 ? 'Nam' : 'Nữ') + "</p></div>\n        <div class=\"right\"><p>Ng\u00E0y sinh: " + format_1.Format.formatDDMMYYY(customerInfo.Birthday) + "</p></div>\n      </div>\n      <p>\u0110C: " + customerInfo.Address + " </p>\n    </div>\n    <div class=\"content-service\">\n      <h3 class=\"group-service_name\">" + groupServiceName + "</h3>\n        " + dataSource.map(function (item, i) { return ("\n            <p class=\"item_name " + groupServiceClass + "\"> " + (i + 1) + ". " + item.DetailName + "</p>\n        ").trim(); }).join('') + "\n    </div>\n    <div class=\"footer\">\n        <p>Ng\u00E0y " + format_1.Format.getDD(new Date()) + " th\u00E1ng " + format_1.Format.getMM(new Date()) + " n\u0103m " + format_1.Format.getYYYY(new Date()) + "</p>\n        <h3>" + user.Data.Position + "</h3>\n    </div>\n    <div class=\"text-center\">" + svgHtml + "</div>\n</body>\n</html>\n\n\n";
        // <h3>${user.Data.Position}.${user.Data.FullName}</h3>
        var a = window.open('', '_blank', 'top=0,left=0,height=800px,width=1350px');
        if (a == null)
            return;
        a.document.open();
        a.document.write(html);
        a.document.close();
    };
    Print.secretaryRePrintGroupServiceConfig = function (showPrice, dataSource, customerInfo, title) {
        var displayShowPrice = "unset", marginTop = "0", service_name = "80%", user = localstorageconfig_1.LocalStorageConfig.GetUser(), total = 0;
        total = dataSource.reduce(function (prev, curr) {
            //convert string kiểu "2,222" => string "2222"
            var regex = new RegExp('[^' + string_1.String.DECIMAL_SEPARATOR + '\\d]', 'g'), curr_number = curr.AmountPaid.toString().replace(regex, ''), 
            //giá trị prev đầu tiên là object, những lần sau là giá trị đã cộng
            prev_number = prev.toString().replace(regex, '');
            //prev_number = typeof prev === 'object' ? prev.Price.toString().replace(regex, '') : prev.toString().replace(regex, '');
            //cộng số đã convert
            return parseInt(prev_number) + parseInt(curr_number);
        }, 0);
        //in groupService
        if (!showPrice) {
            //k show price
            displayShowPrice = "none";
            marginTop = "15px";
        }
        //khởi tạo thẻ barcode, sau đó bỏ thẻ barcode đã được khởi tạo vào html
        var parser = new DOMParser();
        var svg = "<svg class=\"barcode\"></svg>";
        var parsedHtml = parser.parseFromString(svg, 'text/html');
        //chi tiết tại https://github.com/lindell/JsBarcode
        jsbarcode(parsedHtml.getElementsByClassName('barcode')[0], customerInfo.CusCode, {
            width: 2,
            height: 40,
            margin: 0,
            displayValue: true,
        });
        var svgHtml = parsedHtml.getElementsByClassName('barcode')[0].outerHTML;
        var date = format_1.Format.formatDDMMYYY(new Date());
        var html = "<!doctype html>\n<html lang=\"en\">\n<head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <style>\n        @page  \n        { \n            size: auto;\n            margin: 10mm 3mm 10mm 3mm;  \n        }\n        .header {\n            text-align:center;\n            border-bottom: 2px solid #69a3d8;\n        }\n        .header .info-store {\n            font-size: 12px;\n        }\n        .header .info-store p, .header .info-store h3, .content-info p, .content-service .row p{\n            margin:0;\n        }\n        .title {\n            border-top: 5px solid #1b3e77;\n            text-align:center;\n        }\n        .title h3 {\n            border: 1px dotted #69a3d8;\n            border-radius: 10px;\n            margin-top: 5px;\n        }\n\n        .right h3{\n            margin-bottom: 0;\n        }\n        .right div{\n            display: flex;\n        }\n        .right p:nth-child(2){\n            margin-left: 15px;\n        }\n        .content-service {\n            border-bottom: 1px solid #ccc;\n            border-top: 1px solid #ccc;\n        }\n        .footer{\n            float: right;\n            text-align: right;\n        }\n        .footer p:nth-child(1n+1){\n            text-align: center;\n        }\n        p{\n            font-size: 12px;\n        }\n        .content-info{\n            line-height: 15px;\n            margin-bottom:5px;\n        }\n        .content-info h5{\n            margin-bottom: 2px;\n            margin-top: 0;\n            text-transform: uppercase;\n        }\n        .right{\n            text-align: right;\n        }\n        .text-center{\n            text-align: center;\n        }\n        .content-service .row{\n            display: flex;\n            padding:5px 0;\n            font-weight: bold;\n        }\n        .service_name{\n            width:" + service_name + ";\n        }\n        .service_price{\n            width: 20%;\n            text-align: right;\n            display:" + displayShowPrice + ";\n        }\n        .total{\n          display:" + displayShowPrice + ";\n        }\n        .total p{\n            font-size:25px;\n            font-weight: bold;\n            word-break: break-all\n        }\n        .svg{\n          margin-top:" + marginTop + ";\n        }\n        .item_magin-left{\n            margin-left:15px;\n        }\n.content-service .row h5{\nmargin: 0;\n}\n    </style>\n</head>\n<body onload=\"window.print();window.close();\">\n    <div class=\"header\">\n        <div class=\"img\"><img src=\"assets/images/logo-falinic.png\" /></div>\n        <div class=\"info-store\">\n            <h3>" + user.Data.TitleStore + "</h3>\n            <p>" + user.Data.AddressStore + "</p>\n            <p>\u0110T: " + user.Data.PhoneStore + "</p>\n            <p>Gi\u1EDD l\u00E0m vi\u1EC7c: S\u00E1ng <span>" + user.Data.StartWorkingStore + "</span></p>\n            <p>Chi\u1EC1u: <span>" + user.Data.EndWorkingStore + "</span> (Ng\u00E0y l\u1EC5 ngh\u1EC9)</p>\n        </div>\n    </div>\n    <div class=\"title\">\n        <h3>" + title + "</h3>\n    </div>\n    <div class=\"content-info\">\n            <h5>KH: " + customerInfo.FullName + "</h5>\n            <p>Gi\u1EDBi t\u00EDnh: " + (customerInfo.Sex == 1 ? 'Nam' : 'Nữ') + "</p>\n            <p>Ng\u00E0y sinh: " + format_1.Format.formatDDMMYYY(customerInfo.Birthday) + "</p>\n            <p>\u0110C: " + customerInfo.Address + " </p>\n    </div>\n    <div class=\"content-service\">\n        " + dataSource.map(function (item, i) { return ("\n          <div class=\"row\">\n            <h5 class=\"service_name\"> " + (i + 1) + ". " + item.GroupServiceName + "</h5>\n            <h5 class=\"service_price\">" + string_1.String.FormatInputNumber(item.AmountPaid) + "</h5>\n          </div>\n\n            " + item.RequestGroupServiceDetailList.map(function (item1, i) { return ("\n              <div class=\"row item_magin-left\">\n                <p class=\"service_name\"> " + (i + 1) + ". " + item1.GroupDetailName + "</p>\n              </div>\n            ").trim(); }).join('') + "\n\n        ").trim(); }).join('') + "\n      \n    </div>\n    <div class=\"total right\"><p>T\u1ED5ng: " + string_1.String.FormatInputNumber(total) + "</p></div>\n  <div class=\"text-center svg\">" + svgHtml + "</div>\n  <div class=\"right\"><label>" + date + "</label></div>\n</body>\n</html>\n\n\n";
        var a = window.open('', '_blank', 'top=0,left=0,height=800px,width=1350px');
        if (a == null)
            return;
        a.document.open();
        a.document.write(html);
        a.document.close();
    };
    Print.rePrintConfig = function (isGroupService, showPrice, dataSource, customerInfo, title, totalGroup, groupServiceName) {
        if (totalGroup === void 0) { totalGroup = 0; }
        if (groupServiceName === void 0) { groupServiceName = ""; }
        var displayShowPrice = "unset", displayShowName = "unset", marginTop = "0", class_margin = "", service_name = "80%", user = localstorageconfig_1.LocalStorageConfig.GetUser(), total = 0;
        if (isGroupService) {
            debugger;
            dataSource.map(function (x) {
                x.DetailName = x.GroupDetailName;
            });
            //in groupService
            if (!showPrice) {
                //k show price
                displayShowPrice = "none";
                marginTop = "15px";
            }
            if (groupServiceName == "")
                displayShowName = "none";
            total = totalGroup;
            class_margin = "item_magin-left";
            service_name = "100%";
        }
        else {
            //in service
            if (!showPrice) {
                //k show price
                displayShowPrice = "none";
                marginTop = "15px";
            }
        }
        //khởi tạo thẻ barcode, sau đó bỏ thẻ barcode đã được khởi tạo vào html
        var parser = new DOMParser();
        var svg = "<svg class=\"barcode\"></svg>";
        var parsedHtml = parser.parseFromString(svg, 'text/html');
        //chi tiết tại https://github.com/lindell/JsBarcode
        jsbarcode(parsedHtml.getElementsByClassName('barcode')[0], customerInfo.CusCode, {
            width: 2,
            height: 40,
            margin: 0,
            displayValue: true,
        });
        var svgHtml = parsedHtml.getElementsByClassName('barcode')[0].outerHTML;
        var date = format_1.Format.formatDDMMYYY(new Date());
        if (!isGroupService) {
            total = dataSource.reduce(function (prev, curr) {
                //convert string kiểu "2,222" => string "2222"
                var regex = new RegExp('[^' + string_1.String.DECIMAL_SEPARATOR + '\\d]', 'g'), curr_number = curr.Price.toString().replace(regex, ''), 
                //giá trị prev đầu tiên là object, những lần sau là giá trị đã cộng
                prev_number = prev.toString().replace(regex, '');
                //prev_number = typeof prev === 'object' ? prev.Price.toString().replace(regex, '') : prev.toString().replace(regex, '');
                //cộng số đã convert
                return parseInt(prev_number) + parseInt(curr_number);
            }, 0);
        }
        var html = "<!doctype html>\n<html lang=\"en\">\n<head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <style>\n        @page  \n        { \n            size: auto;\n            margin: 10mm 3mm 10mm 3mm;  \n        }\n        .header {\n            text-align:center;\n            border-bottom: 2px solid #69a3d8;\n        }\n        .header .info-store {\n            font-size: 12px;\n        }\n        .header .info-store p, .header .info-store h3, .content-info p, .content-service .row p{\n            margin:0;\n        }\n        .title {\n            border-top: 5px solid #1b3e77;\n            text-align:center;\n        }\n        .title h3 {\n            border: 1px dotted #69a3d8;\n            border-radius: 10px;\n            margin-top: 5px;\n        }\n\n        .right h3{\n            margin-bottom: 0;\n        }\n        .right div{\n            display: flex;\n        }\n        .right p:nth-child(2){\n            margin-left: 15px;\n        }\n        .content-service {\n            border-bottom: 1px solid #ccc;\n            border-top: 1px solid #ccc;\n        }\n        .footer{\n            float: right;\n            text-align: right;\n        }\n        .footer p:nth-child(1n+1){\n            text-align: center;\n        }\n        p{\n            font-size: 12px;\n        }\n        .content-info{\n            line-height: 15px;\n            margin-bottom:5px;\n        }\n        .content-info h5{\n            margin-bottom: 2px;\n            margin-top: 0;\n            text-transform: uppercase;\n        }\n        .right{\n            text-align: right;\n        }\n        .text-center{\n            text-align: center;\n        }\n        .content-service .row{\n            display: flex;\n            padding:5px 0;\n            font-weight: bold;\n        }\n        .service_name{\n            width:" + service_name + ";\n        }\n        .service_price{\n            width: 20%;\n            text-align: right;\n            display:" + displayShowPrice + ";\n        }\n        .total{\n          display:" + displayShowPrice + ";\n        }\n        .total p{\n            font-size:25px;\n            font-weight: bold;\n            word-break: break-all\n        }\n        .svg{\n          margin-top:" + marginTop + ";\n        }\n        .item_magin-left{\n            margin-left:15px;\n        }\n        .content-service h4{\n            display:" + displayShowName + ";\n        }\n    </style>\n</head>\n<body onload=\"window.print();window.close();\">\n    <div class=\"header\">\n        <div class=\"img\"><img src=\"assets/images/logo-falinic.png\" /></div>\n        <div class=\"info-store\">\n            <h3>" + user.Data.TitleStore + "</h3>\n            <p>" + user.Data.AddressStore + "</p>\n            <p>\u0110T: " + user.Data.PhoneStore + "</p>\n            <p>Gi\u1EDD l\u00E0m vi\u1EC7c: S\u00E1ng <span>" + user.Data.StartWorkingStore + "</span></p>\n            <p>Chi\u1EC1u: <span>" + user.Data.EndWorkingStore + "</span> (Ng\u00E0y l\u1EC5 ngh\u1EC9)</p>\n        </div>\n    </div>\n    <div class=\"title\">\n        <h3>" + title + "</h3>\n    </div>\n    <div class=\"content-info\">\n            <h5>KH: " + customerInfo.FullName + "</h5>\n            <p>Gi\u1EDBi t\u00EDnh: " + (customerInfo.Sex == 1 ? 'Nam' : 'Nữ') + "</p>\n            <p>Ng\u00E0y sinh: " + format_1.Format.formatDDMMYYY(customerInfo.Birthday) + "</p>\n            <p>\u0110C: " + customerInfo.Address + " </p>\n    </div>\n    <div class=\"content-service\">\n      <h4>" + groupServiceName + "</h4>\n       " + dataSource.map(function (item, i) { return ("\n          <div class=\"row " + class_margin + "\">\n            <p class=\"service_name\"> " + (i + 1) + ". " + item.DetailName + "</p>\n            <p class=\"service_price\">" + string_1.String.FormatInputNumber(item.Price) + "</p>\n          </div>\n        ").trim(); }).join('') + "\n    </div>\n    <div class=\"total right\"><p>T\u1ED5ng: " + string_1.String.FormatInputNumber(total) + "</p></div>\n  <div class=\"text-center svg\">" + svgHtml + "</div>\n  <div class=\"right\"><label>" + date + "</label></div>\n</body>\n</html>\n\n\n";
        var a = window.open('', '_blank', 'top=0,left=0,height=800px,width=1350px');
        if (a == null)
            return;
        a.document.open();
        a.document.write(html);
        a.document.close();
    };
    Print.doctorRePrintConfig = function (isGroupService, showPrice, dataSource, customerInfo, title, totalGroup, groupServiceName) {
        if (totalGroup === void 0) { totalGroup = 0; }
        if (groupServiceName === void 0) { groupServiceName = ""; }
        var displayShowPrice = "block", displayShowName = "block", class_margin = "", marginTop = "0", user = localstorageconfig_1.LocalStorageConfig.GetUser(), total = 0;
        if (groupServiceName == "")
            displayShowName = "none";
        if (isGroupService) {
            dataSource.map(function (x) {
                x.DetailName = x.GroupDetailName;
            });
            //print groupService
            if (!showPrice) {
                //k show price
                displayShowPrice = "none";
                marginTop = "15px";
            }
            total = totalGroup;
            class_margin = "item_magin-left";
        }
        else {
            //print service
            if (!showPrice) {
                //k show price
                marginTop = "15px";
            }
        }
        if (!isGroupService) {
            total = dataSource.reduce(function (prev, curr) {
                //convert string kiểu "2,222" => string "2222"
                var regex = new RegExp('[^' + string_1.String.DECIMAL_SEPARATOR + '\\d]', 'g'), curr_number = curr.Price.toString().replace(regex, ''), 
                //giá trị prev đầu tiên là object, những lần sau là giá trị đã cộng
                prev_number = prev.toString().replace(regex, '');
                //prev_number = typeof prev === 'object' ? prev.Price.toString().replace(regex, '') : prev.toString().replace(regex, '');
                //cộng số đã convert
                return parseInt(prev_number) + parseInt(curr_number);
            }, 0);
        }
        //khởi tạo thẻ barcode, sau đó bỏ thẻ barcode đã được khởi tạo vào html
        var parser = new DOMParser(), svg = "<svg class=\"barcode\"></svg>", parsedHtml = parser.parseFromString(svg, 'text/html');
        //chi tiết tại https://github.com/lindell/JsBarcode
        jsbarcode(parsedHtml.getElementsByClassName('barcode')[0], customerInfo.CusCode, {
            width: 2,
            height: 40,
            margin: 0,
            displayValue: true,
        });
        var svgHtml = parsedHtml.getElementsByClassName('barcode')[0].outerHTML;
        var date = format_1.Format.formatDDMMYYY(new Date());
        var html = "<!doctype html>\n<html lang=\"en\">\n<head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <style>\n       .header {\n            text-align: center;\n            border-bottom: 2px solid #69a3d8;\n            display: flex;\n            height: 80px;\n            padding: 0 0 20px 0;\n        }\n        .header .img {\n            width: 30%;\n            text-align: left;\n        }\n        .header .img img {\n            height: 100%;\n            width: 100%;\n        }\n        .header .info-store {\n            line-height: 2px;\n            font-size: 14px;\n            text-align: right;\n            width: 70%;\n        }\n       .header .info-store h3{\n            text-transform: uppercase;\n        }\n        .title {\n            border-top: 5px solid #1b3e77;\n            text-align:center;\n        }\n        .title h1 {\n            border: 1px dotted #69a3d8;\n            border-radius: 10px;\n            margin-top: 5px;\n        }\n\n        .right h3{\n            margin-bottom: 0;\n        }\n        .right div{\n            display: flex;\n        }\n        .right p:nth-child(2){\n            margin-left: 15px;\n        }\n        .left h3{\n            text-transform: uppercase;\n        }\n        .content-service {\n            border-bottom: 1px dotted #69a3d8;\n            border-top: 1px dotted #69a3d8;\n                }\n        .content-service .row{\n            display: flex;\n            font-weight: bold;\n            word-break: break-all\n        }\n        .item_name{\n\t\t        width: 80%;\n\t\t\t      font-weight: bold;\n            word-break: break-all;\n\t\t    }\n\t\t    .unit_name{\n\t\t\t    text-align: right;\n\t\t\t    width: 20%;\n\t\t    }\n\t\t    .item_use,.item_note{\n\t\t\t    font-style: italic;\n\t\t    }\n        .m-5 p{\n          margin-top:5px;\n\t\t    }\n        .flex{\n\t\t\t    display: flex;\n\t\t    }\n\t\t    .flex .left{\n\t\t\t    width: 50%;\n\t\t    }\n        .flex .center{\n\t\t\t    width: 25%;\n\t\t    }\n        .flex .right{\n\t\t\t    width: 25%;\n\t\t    }\n        .flex p, .flex h3{\n          margin: 0;\n        }\n       .footer {\n            width: 100%;\n            text-align: right;\n            line-height: 8px;\n        }\n\n        .footer p {\n            text-align: right;\n            font-size: 15px;\n        }\n\n        .footer p:nth-child(2) {\n            margin-right: 55px;\n        }\n\n        .footer h3 {\n            margin-top: 100px;\n        }\n        .info-store p{\n            font-size: 12px;\n        }\n        .content-info{\n            line-height: 15px;\n        }\n        .content-info h3{\n            margin-bottom: 2px;\n            margin-top: 2px;\n        }\n        .right{\n            text-align: right;\n        }\n        @page  \n        { \n            size: auto;\n            margin: 15mm 15mm 15mm 15mm;  \n        }\n        .text-center{\n            text-align: center;\n        }\n        .item_name{\n            line-height: 5px;\n        }\n        .content-info p, .content-service p{\n            font-size: 15px;\n        }\n        .content-service p{\n            margin: 5px 0;\n        }\n        .svg{margin-top:10px;}\n        .service_name{\n            width:80%;\n        }\n        .service_price{\n            width: 20%;\n            text-align: right;\n            display:" + displayShowPrice + ";\n        }\n        .total{\n          display:" + displayShowPrice + ";\n        }\n        .total p{\n            font-size:25px;\n            font-weight: bold;\n            word-break: break-all\n        }\n        .group-service_item{\n            padding-left:30px;\n        }\n        .content-service h3{\n            display:" + displayShowName + ";\n            margin-bottom: 0;\n        }\n        .item_magin-left{\n            margin-left:30px;\n        }\n    </style>\n</head>\n<body onload=\"window.print();window.close();\">\n    <div class=\"header\">\n        <div class=\"img\"><img src=\"assets/images/falinic.png\" /></div>\n        <div class=\"info-store\">\n            <h3>" + user.Data.TitleStore + "</h3>\n            <p>" + user.Data.AddressStore + "</p>\n            <p>\u0110T: " + user.Data.PhoneStore + "</p>\n            <p>Gi\u1EDD l\u00E0m vi\u1EC7c: S\u00E1ng <span>" + user.Data.StartWorkingStore + "</span></p>\n            <p>Chi\u1EC1u: <span>" + user.Data.EndWorkingStore + "</span> (Ng\u00E0y l\u1EC5 ngh\u1EC9)</p>\n        </div>\n    </div>\n    <div class=\"title\">\n        <h1>" + title + "</h1>\n    </div>\n    <div class=\"content-info\">\n      <div class=\"flex\">\n        <div class=\"left\"><h3>KH: " + customerInfo.FullName + "</h3></div>\n        <div class=\"center\"><p>Gi\u1EDBi t\u00EDnh: " + (customerInfo.Sex == 1 ? 'Nam' : 'Nữ') + "</p></div>\n        <div class=\"right\"><p>Ng\u00E0y sinh: " + format_1.Format.formatDDMMYYY(customerInfo.Birthday) + "</p></div>\n      </div>\n      <p>\u0110C: " + customerInfo.Address + " </p>\n    </div>\n    <div class=\"content-service\">\n      <h3>" + groupServiceName + "</h3>\n       " + dataSource.map(function (item, i) { return ("\n          <div class=\"row " + class_margin + "\">\n            <p class=\"service_name\"> " + (i + 1) + ". " + item.DetailName + "</p>\n            <p class=\"service_price\">" + string_1.String.FormatInputNumber(item.Price) + "</p>\n          </div>\n        ").trim(); }).join('') + "\n    </div>\n    <div class=\"total right\"><p>T\u1ED5ng: " + string_1.String.FormatInputNumber(total) + "</p></div>\n  <div class=\"text-center svg\">" + svgHtml + "</div>\n  <div class=\"right\"><label>" + date + "</label></div>\n</body>\n</html>\n\n\n";
        var a = window.open('', '_blank', 'top=0,left=0,height=800px,width=1350px');
        if (a == null)
            return;
        a.document.open();
        a.document.write(html);
        a.document.close();
    };
    Print.printMedicaRecord = function (dataSourceService, dataSourcePrescription, customerInfo) {
        var user = localstorageconfig_1.LocalStorageConfig.GetUser();
        var html = "<!doctype html>\n<html lang=\"en\">\n<head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <style>\n       .header {\n            text-align: center;\n            border-bottom: 2px solid #69a3d8;\n            display: flex;\n            height: 80px;\n            padding: 0 0 20px 0;\n        }\n        .header .img {\n            width: 30%;\n            text-align: left;\n        }\n        .header .img img {\n            width:100%;\n            height: 100%;\n        }\n        .header .info-store {\n            line-height: 2px;\n            font-size: 14px;\n            text-align: right;\n            width: 70%;\n        }\n        .header .info-store h3{\n            text-transform: uppercase;\n        }\n        .title {\n            border-top: 5px solid #1b3e77;\n            text-align:center;\n        }\n        .title h1 {\n            border: 1px dotted #69a3d8;\n            border-radius: 10px;\n            margin-top: 5px;\n        }\n\n        .right h3{\n            margin-bottom: 0;\n        }\n        .right div{\n            display: flex;\n        }\n        .right p:nth-child(2){\n            margin-left: 15px;\n        }\n        .left h3{\n            text-transform: uppercase;\n        }\n        .item_name{\n\t\t      width: 80%;\n\t\t\t    font-weight: bold;\n          word-break: break-all;\n          line-height: 15px;\n\t\t    }\n\t\t    .unit_name{\n\t\t\t    text-align: right;\n\t\t\t    width: 20%;\n          line-height: 15px;\n\t\t    }\n\t\t    .item_use,.item_note{\n\t\t\t    font-style: italic;\n\t\t    }\n        .m-5 p{\n          margin-top:5px;\n\t\t    }\n        .flex{\n\t\t\t    display: flex;\n\t\t    }\n\t\t    .flex .left{\n\t\t\t    width: 50%;\n\t\t    }\n        .flex .center{\n\t\t\t    width: 25%;\n\t\t    }\n        .flex .right{\n\t\t\t    width: 25%;\n\t\t    }\n        .flex h3{\n          margin: 0;\n        }\n        .flex p{\n          margin: 5px 0;\n        }\n        .footer{\n            float: right;\n            text-align: right;\n        }\n        .footer p:nth-child(1n+1){\n            text-align: center;\n        }\n        p{\n            font-size: 12px;\n        }\n        .content-info{\n            line-height: 15px;\n        }\n        .content-info h3{\n            margin-bottom: 2px;\n            margin-top: 2px;\n        }\n        .right{\n            text-align: right;\n        }\n        @page  \n        { \n            size: auto;\n            margin: 15mm 15mm 15mm 15mm;  \n        }\n        .text-center{\n            text-align: center;\n        }\n        .content-service .row,\n        .content-prescription .row{\n            display: flex;\n        }\n        \n        .service_name{\n            width:50%;\n        }\n        .service_result{\n            width: 50%;\n        }\n        \n        .float_right{float:right;}\n\n        .content-reasons p,\n        .content-medical_history p,\n        .content-biometric p,\n        .content-service p,\n        .content-examination p,\n        .content-diagnose p,\n        .content-prescription p{\n            font-size: 15px;\n            margin: 2px 0;\n        }\n        .content-info p{\n            font-size: 15px;\n        }\n        .content-reasons,\n        .content-medical_history,\n        .content-biometric,\n        .content-service,\n        .content-examination,\n        .content-diagnose,\n        .content-prescription{\n            margin-top: 3px;\n        }\n        .content-reasons h3,\n        .content-medical_history h3,\n        .content-biometric h3,\n        .content-service h3,\n        .content-examination h3,\n        .content-diagnose h3,\n        .content-prescription h3{\n            margin: 0;\n        }\n        .content-prescription .col-12,\n        .content-prescription h3{\n            margin-bottom: -20px;\n        }\n        .top h3, .top p{margin:2px;}\n        .svg{margin-top:10px;}\n        .first{width:300px;}\n        .second{\n            margin-left: 20px;\n        }\n        .examination{\n            text-decoration: underline;\n        }\n        .icdcode{\n            font-weight: bold;\n        }\n        .title-group {\n            text-decoration: underline;\n        }\n        .col-1 {\n            width: 8.33333333%;\n        }\n        .col-2 {\n            width: 16.66666667%;\n        }\n       .col-3 {\n            width: 25%;\n        }\n        .col-4 {\n            width: 33.33333333%;\n        }\n        .col-auto {\n            width: 20%;\n        }\n        .col-6 {\n            width: 50%;\n        }\n        .col-12 {\n            width: 100%;\n        }\n        .col-qty {\n            width: 6.33333333%;\n        }\n        .col-time_use {\n            width: 18.666667%;\n        }\n        .text-left{\n            text-align: left;\n        }\n        .text-right{\n            text-align: right;\n        }\n        .title-group{\n            text-decoration: underline;\n        }\n        .flex .address{\n            width: 75%;\n        }\n        .flex .phone{\n            width: 25%;\n            text-align: right;\n        }\n    </style>\n</head>\n<body onload=\"window.print();window.close();\">\n    <div class=\"header\">\n        <div class=\"img\"><img src=\"assets/images/falinic.png\" /></div>\n        <div class=\"info-store\">\n            <h3>" + user.Data.TitleStore + "</h3>\n            <p>" + user.Data.AddressStore + "</p>\n            <p>\u0110T: " + user.Data.PhoneStore + "</p>\n            <p>Gi\u1EDD l\u00E0m vi\u1EC7c: S\u00E1ng <span>" + user.Data.StartWorkingStore + "</span></p>\n            <p>Chi\u1EC1u: <span>" + user.Data.EndWorkingStore + "</span> (Ng\u00E0y l\u1EC5 ngh\u1EC9)</p>\n        </div>\n    </div>\n    <div class=\"title\">\n        <h1>B\u1EC6NH \u00C1N \u0110I\u1EC6N T\u1EEC</h1>\n    </div>\n    <div class=\"content-info\">\n      <h3 class=\"title-group\">1.TH\u00D4NG TIN KH\u00C1CH H\u00C0NG</h3>\n      <div class=\"flex\">\n        <div class=\"left\"><p>KH: " + customerInfo.fullName + "</p></div>\n        <div class=\"center\"><p>Gi\u1EDBi t\u00EDnh: " + (customerInfo.sex == 1 ? 'Nam' : 'Nữ') + "</p></div>\n        <div class=\"right\"><p>Ng\u00E0y sinh: " + format_1.Format.formatDDMMYYY(customerInfo.birthday) + "</p></div>\n      </div>\n      <div class=\"flex\">\n        <div class=\"address\"><p>\u0110C: " + customerInfo.address + " </p></div>\n        <div class=\"phone\"><p>S\u0110T: " + customerInfo.phone1 + "</p></div>\n      </div>\n    </div>\n    <div class=\"content-reasons\">\n      <h3 class=\"title-group\">2.L\u00DD DO KH\u00C1M</h3>\n      <p>" + customerInfo.reasons + "</p>\n    </div>\n  <div class=\"content-medical_history\">\n    <h3 class=\"title-group\">3.B\u1EC6NH S\u1EEC</h3>\n    <p>" + customerInfo.medicalHistory + "</p>\n  </div>\n\n  <div class=\"content-biometric\">\n    <h3 class=\"title-group\">4.TH\u00D4NG TIN SINH TR\u1EAEC</h3>\n      <div class=\"flex\">\n        <p class=\"col-auto\">C\u00E2n n\u1EB7ng (kg): " + customerInfo.weight + "</p>\n        <p class=\"col-auto\">Chi\u1EC1u cao (cm): " + customerInfo.hight + "</p>\n        <p class=\"col-2\">M\u1EA1ch: " + customerInfo.circuit + "</p>\n        <p class=\"col-3\">Huy\u1EBFt \u00E1p (mmHg): " + customerInfo.bloodPressure + "</p>\n        <p class=\"col-2\">BMI: " + parseFloat(customerInfo.bMI).toFixed(3) + "</p>\n      </div>\n  </div>\n  <div class=\"content-examination\">\n    <h3 class=\"title-group\">5.KH\u00C1M B\u1EC6NH</h3>\n    <p>" + customerInfo.examination + "</p>\n  </div>\n  <div class=\"content-service\">\n    <h3 class=\"title-group\">6.C\u1EACN L\u00C2M S\u00C0N</h3>\n    " + dataSourceService.map(function (item, i) { return ("\n          <div class=\"row\">\n            <p class=\"service_name\"> " + (i + 1) + ". " + item.DetailName + "</p>\n            <p class=\"service_result\">" + item.Result + "</p>\n          </div>\n        ").trim(); }).join('') + "\n  </div>\n  <div class=\"content-diagnose\">\n    <h3 class=\"title-group\">7.CH\u1EA8N \u0110O\u00C1N</h3>\n    <p>" + customerInfo.diagnose + "</p>\n  </div>\n<div class=\"content-prescription\">\n    <h3 class=\"title-group\">8.TOA THU\u00D4C</h3>\n    <div class=\"col-12 row\">\n      <h5 class=\"text-left col-6\">T\u00CAN S\u1EA2N PH\u1EA8M</h5>\n      <h5 class=\"text-left col-1\">\u0110VT</h5>\n      <h5 class=\"text-left col-time_use\">T\u0110D</h5>\n      <h5 class=\"text-left col-1\">HTD</h5>\n      <h5 class=\"text-left col-1\">SL/L\u1EA7n</h5>\n      <h5 class=\"text-left col-qty\">SL</h5>\n    </div>\n    " + dataSourcePrescription.map(function (item, i) { return ("\n          <div class=\"row\">\n            <div class=\"col-6\"><p>" + (i + 1) + ". " + item.ItemName + "</p></div>\n            <div class=\"col-1\"><p>" + item.UnitName + "</p></div>\n            <div class=\"col-time_use\"><p>" + item.TimeUse + "</p></div>\n            <div class=\"col-1\"><p>" + item.ItemUsing + "</p></div>\n            <div class=\"col-1 text-right\"><p>" + item.QuantityPerUse + "</p></div>\n            <div class=\"col-qty text-right\"><p>" + item.Quantity + "</p></div>\n          </div>\n        ").trim(); }).join('') + "\n  </div>\n</body>\n</html>\n\n\n";
        var a = window.open('', '_blank', 'top=0,left=0,height=800px,width=1350px');
        if (a == null)
            return;
        a.document.open();
        a.document.write(html);
        a.document.close();
    };
    Print.doctorRePrintGroupServiceConfig = function (showPrice, dataSource, customerInfo, title) {
        var displayShowPrice = "unset", marginTop = "0", service_name = "80%", user = localstorageconfig_1.LocalStorageConfig.GetUser(), total = 0;
        total = dataSource.reduce(function (prev, curr) {
            //convert string kiểu "2,222" => string "2222"
            var regex = new RegExp('[^' + string_1.String.DECIMAL_SEPARATOR + '\\d]', 'g'), curr_number = curr.AmountPaid.toString().replace(regex, ''), 
            //giá trị prev đầu tiên là object, những lần sau là giá trị đã cộng
            prev_number = prev.toString().replace(regex, '');
            //prev_number = typeof prev === 'object' ? prev.Price.toString().replace(regex, '') : prev.toString().replace(regex, '');
            //cộng số đã convert
            return parseInt(prev_number) + parseInt(curr_number);
        }, 0);
        //in groupService
        if (!showPrice) {
            //k show price
            displayShowPrice = "none";
            marginTop = "15px";
        }
        //khởi tạo thẻ barcode, sau đó bỏ thẻ barcode đã được khởi tạo vào html
        var parser = new DOMParser();
        var svg = "<svg class=\"barcode\"></svg>";
        var parsedHtml = parser.parseFromString(svg, 'text/html');
        //chi tiết tại https://github.com/lindell/JsBarcode
        jsbarcode(parsedHtml.getElementsByClassName('barcode')[0], customerInfo.CusCode, {
            width: 2,
            height: 40,
            margin: 0,
            displayValue: true,
        });
        var svgHtml = parsedHtml.getElementsByClassName('barcode')[0].outerHTML;
        var date = format_1.Format.formatDDMMYYY(new Date());
        var html = "<!doctype html>\n<html lang=\"en\">\n<head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <style>\n        @page  \n        { \n            size: auto;\n            margin: 15mm 15mm 15mm 15mm;  \n        }\n       .header {\n            text-align: center;\n            border-bottom: 2px solid #69a3d8;\n            display: flex;\n            height: 80px;\n            padding: 0 0 20px 0;\n        }\n        .header .img {\n            width: 30%;\n            text-align: left;\n        }\n        .header .img img {\n            height: 100%;\n            width: 100%;\n        }\n        .header .info-store {\n            line-height: 2px;\n            font-size: 14px;\n            text-align: right;\n            width: 70%;\n        }\n       .header .info-store h3{\n            text-transform: uppercase;\n        }\n        .title {\n            border-top: 5px solid #1b3e77;\n            text-align:center;\n        }\n        .title h3 {\n            border: 1px dotted #69a3d8;\n            border-radius: 10px;\n            margin-top: 5px;\n        }\n\n        .right h3{\n            margin-bottom: 0;\n        }\n        .right div{\n            display: flex;\n        }\n        .right p:nth-child(2){\n            margin-left: 15px;\n        }\n        .content-service {\n            border-bottom: 1px solid #ccc;\n            border-top: 1px solid #ccc;\n        }\n        .footer{\n            float: right;\n            text-align: right;\n        }\n        .footer p:nth-child(1n+1){\n            text-align: center;\n        }\n        p{\n            font-size: 12px;\n        }\n        .content-info{\n            line-height: 15px;\n            margin-bottom:5px;\n        }\n        .content-info h5{\n            margin-bottom: 2px;\n            margin-top: 0;\n            text-transform: uppercase;\n        }\n        .right{\n            text-align: right;\n        }\n        .text-center{\n            text-align: center;\n        }\n        .content-service .row{\n            display: flex;\n            padding:5px 0;\n            font-weight: bold;\n        }\n        .service_name{\n            width:" + service_name + ";\n        }\n        .service_price{\n            width: 20%;\n            text-align: right;\n            display:" + displayShowPrice + ";\n        }\n        .total{\n          display:" + displayShowPrice + ";\n        }\n        .total p{\n            font-size:25px;\n            font-weight: bold;\n            word-break: break-all\n        }\n        .svg{\n          margin-top:" + marginTop + ";\n        }\n        .item_magin-left{\n            margin-left:15px;\n        }\n.content-service .row h5{\nmargin: 0;\n}\n    </style>\n</head>\n<body onload=\"window.print();window.close();\">\n    <div class=\"header\">\n        <div class=\"img\"><img src=\"assets/images/logo-falinic.png\" /></div>\n        <div class=\"info-store\">\n            <h3>" + user.Data.TitleStore + "</h3>\n            <p>" + user.Data.AddressStore + "</p>\n            <p>\u0110T: " + user.Data.PhoneStore + "</p>\n            <p>Gi\u1EDD l\u00E0m vi\u1EC7c: S\u00E1ng <span>" + user.Data.StartWorkingStore + "</span></p>\n            <p>Chi\u1EC1u: <span>" + user.Data.EndWorkingStore + "</span> (Ng\u00E0y l\u1EC5 ngh\u1EC9)</p>\n        </div>\n    </div>\n    <div class=\"title\">\n        <h3>" + title + "</h3>\n    </div>\n    <div class=\"content-info\">\n            <h5>KH: " + customerInfo.FullName + "</h5>\n            <p>Gi\u1EDBi t\u00EDnh: " + (customerInfo.Sex == 1 ? 'Nam' : 'Nữ') + "</p>\n            <p>Ng\u00E0y sinh: " + format_1.Format.formatDDMMYYY(customerInfo.Birthday) + "</p>\n            <p>\u0110C: " + customerInfo.Address + " </p>\n    </div>\n    <div class=\"content-service\">\n        " + dataSource.map(function (item, i) { return ("\n          <div class=\"row\">\n            <h5 class=\"service_name\"> " + (i + 1) + ". " + item.GroupServiceName + "</h5>\n            <h5 class=\"service_price\">" + string_1.String.FormatInputNumber(item.AmountPaid) + "</h5>\n          </div>\n\n            " + item.RequestGroupServiceDetailList.map(function (item1, i) { return ("\n              <div class=\"row item_magin-left\">\n                <p class=\"service_name\"> " + (i + 1) + ". " + item1.GroupDetailName + "</p>\n              </div>\n            ").trim(); }).join('') + "\n\n        ").trim(); }).join('') + "\n      \n    </div>\n    <div class=\"total right\"><p>T\u1ED5ng: " + string_1.String.FormatInputNumber(total) + "</p></div>\n  <div class=\"text-center svg\">" + svgHtml + "</div>\n  <div class=\"right\"><label>" + date + "</label></div>\n</body>\n</html>\n\n\n";
        var a = window.open('', '_blank', 'top=0,left=0,height=800px,width=1350px');
        if (a == null)
            return;
        a.document.open();
        a.document.write(html);
        a.document.close();
    };
    Print.doctorRePrintGroupServiceConfig1 = function (showPrice, dataSource, customerInfo, title) {
        var displayShowPrice = "block", displayShowName = "block", class_margin = "", marginTop = "0", user = localstorageconfig_1.LocalStorageConfig.GetUser(), total = 0;
        if (!showPrice) {
            //k show price
            displayShowPrice = "none";
            marginTop = "15px";
        }
        total = dataSource.reduce(function (prev, curr) {
            //convert string kiểu "2,222" => string "2222"
            var regex = new RegExp('[^' + string_1.String.DECIMAL_SEPARATOR + '\\d]', 'g'), curr_number = curr.AmountPaid.toString().replace(regex, ''), 
            //giá trị prev đầu tiên là object, những lần sau là giá trị đã cộng
            prev_number = prev.toString().replace(regex, '');
            //prev_number = typeof prev === 'object' ? prev.Price.toString().replace(regex, '') : prev.toString().replace(regex, '');
            //cộng số đã convert
            return parseInt(prev_number) + parseInt(curr_number);
        }, 0);
        //khởi tạo thẻ barcode, sau đó bỏ thẻ barcode đã được khởi tạo vào html
        var parser = new DOMParser(), svg = "<svg class=\"barcode\"></svg>", parsedHtml = parser.parseFromString(svg, 'text/html');
        //chi tiết tại https://github.com/lindell/JsBarcode
        jsbarcode(parsedHtml.getElementsByClassName('barcode')[0], customerInfo.CusCode, {
            width: 2,
            height: 40,
            margin: 0,
            displayValue: true,
        });
        var svgHtml = parsedHtml.getElementsByClassName('barcode')[0].outerHTML;
        var date = format_1.Format.formatDDMMYYY(new Date());
        var html = "<!doctype html>\n<html lang=\"en\">\n<head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <style>\n       .header {\n            text-align: center;\n            border-bottom: 2px solid #69a3d8;\n            display: flex;\n            height: 80px;\n            padding: 0 0 20px 0;\n        }\n        .header .img {\n            width: 30%;\n            text-align: left;\n        }\n        .header .img img {\n            height: 100%;\n            width: 100%;\n        }\n        .header .info-store {\n            line-height: 2px;\n            font-size: 14px;\n            text-align: right;\n            width: 70%;\n        }\n       .header .info-store h3{\n            text-transform: uppercase;\n        }\n        .title {\n            border-top: 5px solid #1b3e77;\n            text-align:center;\n        }\n        .title h1 {\n            border: 1px dotted #69a3d8;\n            border-radius: 10px;\n            margin-top: 5px;\n        }\n\n        .right h3{\n            margin-bottom: 0;\n        }\n        .right div{\n            display: flex;\n        }\n        .right p:nth-child(2){\n            margin-left: 15px;\n        }\n        .left h3{\n            text-transform: uppercase;\n        }\n        .content-service {\n            border-bottom: 1px dotted #69a3d8;\n            border-top: 1px dotted #69a3d8;\n                }\n        .content-service .row{\n            display: flex;\n            font-weight: bold;\n            word-break: break-all\n        }\n        .item_name{\n\t\t        width: 80%;\n\t\t\t      font-weight: bold;\n            word-break: break-all;\n\t\t    }\n\t\t    .unit_name{\n\t\t\t    text-align: right;\n\t\t\t    width: 20%;\n\t\t    }\n\t\t    .item_use,.item_note{\n\t\t\t    font-style: italic;\n\t\t    }\n        .m-5 p{\n          margin-top:5px;\n\t\t    }\n        .flex{\n\t\t\t    display: flex;\n\t\t    }\n\t\t    .flex .left{\n\t\t\t    width: 50%;\n\t\t    }\n        .flex .center{\n\t\t\t    width: 25%;\n\t\t    }\n        .flex .right{\n\t\t\t    width: 25%;\n\t\t    }\n        .flex p, .flex h3{\n          margin: 0;\n        }\n       .footer {\n            width: 100%;\n            text-align: right;\n            line-height: 8px;\n        }\n\n        .footer p {\n            text-align: right;\n            font-size: 15px;\n        }\n\n        .footer p:nth-child(2) {\n            margin-right: 55px;\n        }\n\n        .footer h3 {\n            margin-top: 100px;\n        }\n        .info-store p{\n            font-size: 12px;\n        }\n        .content-info{\n            line-height: 15px;\n        }\n        .content-info h3{\n            margin-bottom: 2px;\n            margin-top: 2px;\n        }\n        .right{\n            text-align: right;\n        }\n        @page  \n        { \n            size: auto;\n            margin: 15mm 15mm 15mm 15mm;  \n        }\n        .text-center{\n            text-align: center;\n        }\n        .item_name{\n            line-height: 5px;\n        }\n        .content-info p, .content-service p{\n            font-size: 15px;\n        }\n        .content-service p{\n            margin: 5px 0;\n        }\n        .svg{margin-top:10px;}\n        .service_name{\n            width:80%;\n        }\n        .service_price{\n            width: 20%;\n            text-align: right;\n            display:" + displayShowPrice + ";\n        }\n        .total{\n          display:" + displayShowPrice + ";\n        }\n        .total p{\n            font-size:25px;\n            font-weight: bold;\n            word-break: break-all\n        }\n        .group-service_item{\n            padding-left:30px;\n        }\n        .content-service h3{\n            display:" + displayShowName + ";\n            margin-bottom: 0;\n        }\n        .item_magin-left{\n            margin-left:30px;\n        }\n        .content-service .row h4{\n            margin: 0;\n        }\n        .content-service .group{\n            margin-top: 10px;\n        }\n    </style>\n</head>\n<body onload=\"window.print();window.close();\">\n    <div class=\"header\">\n        <div class=\"img\"><img src=\"assets/images/falinic.png\" /></div>\n        <div class=\"info-store\">\n            <h3>" + user.Data.TitleStore + "</h3>\n            <p>" + user.Data.AddressStore + "</p>\n            <p>\u0110T: " + user.Data.PhoneStore + "</p>\n            <p>Gi\u1EDD l\u00E0m vi\u1EC7c: S\u00E1ng <span>" + user.Data.StartWorkingStore + "</span></p>\n            <p>Chi\u1EC1u: <span>" + user.Data.EndWorkingStore + "</span> (Ng\u00E0y l\u1EC5 ngh\u1EC9)</p>\n        </div>\n    </div>\n    <div class=\"title\">\n        <h1>" + title + "</h1>\n    </div>\n    <div class=\"content-info\">\n      <div class=\"flex\">\n        <div class=\"left\"><h3>KH: " + customerInfo.FullName + "</h3></div>\n        <div class=\"center\"><p>Gi\u1EDBi t\u00EDnh: " + (customerInfo.Sex == 1 ? 'Nam' : 'Nữ') + "</p></div>\n        <div class=\"right\"><p>Ng\u00E0y sinh: " + format_1.Format.formatDDMMYYY(customerInfo.Birthday) + "</p></div>\n      </div>\n      <p>\u0110C: " + customerInfo.Address + " </p>\n    </div>\n    <div class=\"content-service\">\n      " + dataSource.map(function (item, i) { return ("\n          <div class=\"row group\">\n            <h4 class=\"service_name\"> " + (i + 1) + ". " + item.GroupServiceName + "</h4>\n            <h4 class=\"service_price\">" + string_1.String.FormatInputNumber(item.AmountPaid) + "</h4>\n          </div>\n\n            " + item.RequestGroupServiceDetailList.map(function (item1, i) { return ("\n              <div class=\"row item_magin-left\">\n                <p class=\"service_name\"> " + (i + 1) + ". " + item1.GroupDetailName + "</p>\n              </div>\n            ").trim(); }).join('') + "\n\n        ").trim(); }).join('') + "\n    </div>\n    <div class=\"total right\"><p>T\u1ED5ng: " + string_1.String.FormatInputNumber(total) + "</p></div>\n  <div class=\"text-center svg\">" + svgHtml + "</div>\n  <div class=\"right\"><label>" + date + "</label></div>\n</body>\n</html>\n\n\n";
        var a = window.open('', '_blank', 'top=0,left=0,height=800px,width=1350px');
        if (a == null)
            return;
        a.document.open();
        a.document.write(html);
        a.document.close();
    };
    Print.printRPLD = function (dataSource, startDate, endDate) {
        var user = localstorageconfig_1.LocalStorageConfig.GetUser(), total = dataSource.SumServiceReceive - dataSource.SumServicePaid + dataSource.SumGroupServiceReceive - dataSource.SumGroupServicePaid;
        var html = "<!doctype html>\n<html lang=\"en\">\n<head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <style>\n       .header {\n            text-align: center;\n            border-bottom: 2px solid #69a3d8;\n            display: flex;\n            height: 80px;\n            padding: 0 0 20px 0;\n        }\n        .header .img {\n            width: 30%;\n            text-align: left;\n        }\n        .header .img img {\n            width:100%;\n            height: 100%;\n        }\n        .header .info-store {\n            line-height: 2px;\n            font-size: 14px;\n            text-align: right;\n            width: 70%;\n        }\n        .header .info-store h3{\n            text-transform: uppercase;\n        }\n        .title {\n            border-top: 5px solid #1b3e77;\n            text-align:center;\n        }\n        .title div {\n            border: 1px dotted #69a3d8;\n            border-radius: 10px;\n            margin-top: 5px;\n        }\n\n        .title h1, .title h3 {\n            margin: 0;\n        }\n        .right h3{\n            margin-bottom: 0;\n        }\n        .right div{\n            display: flex;\n        }\n        .right p:nth-child(2){\n            margin-left: 15px;\n        }\n        .left h3{\n            text-transform: uppercase;\n        }\n        .content-service {\n            border-bottom: 1px dotted #69a3d8;\n            border-top: 1px dotted #69a3d8;\n        }\n        .item_name{\n\t\t      width: 80%;\n\t\t\t    font-weight: bold;\n          word-break: break-all;\n          line-height: 15px;\n\t\t    }\n\t\t    .unit_name{\n\t\t\t    text-align: right;\n\t\t\t    width: 20%;\n          line-height: 15px;\n\t\t    }\n\t\t    .item_use,.item_note{\n\t\t\t    font-style: italic;\n\t\t    }\n        .m-5 p{\n          margin-top:5px;\n\t\t    }\n        .flex{\n\t\t\t    display: flex;\n\t\t    }\n\t\t    .flex .left{\n\t\t\t    width: 50%;\n\t\t    }\n        .flex .center{\n\t\t\t    width: 25%;\n\t\t    }\n        .flex .right{\n\t\t\t    width: 25%;\n\t\t    }\n        .flex p, .flex h3{\n          margin: 0;\n        }\n        .footer{\n            float: right;\n            text-align: right;\n        }\n        .footer p:nth-child(1n+1){\n            text-align: center;\n        }\n        p{\n            font-size: 12px;\n        }\n        .content-info{\n            line-height: 15px;\n        }\n        .content-info h3{\n            margin-bottom: 2px;\n            margin-top: 2px;\n        }\n        .right{\n            text-align: right;\n        }\n        @page  \n        { \n            size: auto;\n            margin: 15mm 15mm 15mm 15mm;  \n        }\n        .text-center{\n            text-align: center;\n        }\n        .content-service .row{\n            display: flex;\n        }\n        .content-service{\n            line-height: 0;\n        }\n        \n        .service_name{\n            width:80%;\n        }\n        .service_price{\n            width: 20%;\n            text-align: right;\n        }\n        .content-bottom{\n          margin-top: 5px;\n          \n\t\t    }\n\t\t    .content-bottom .right h3{\n\t\t\t    margin-top: 100px;\n\t\t    }\n        .float_right{float:right;}\n        .content-info p, .content-service p, .content-bottom p{\n            font-size: 15px;\n        }\n        table{\n            width:100%;\n            border: 1px solid #ddd;\n            margin-top: 20px;\n        }\n        table thead tr th, table tbody tr td{\n            border: 1px solid #ddd;\n        }\n        table thead tr th{\n            background: #ccc;\n        }\n        table tbody tr td, table thead tr th{\n           font-size: 20px;\n        }\n        table tbody tr td:first-child{\n           text-align: center;\n        }\n        table tbody tr td:last-child{\n           text-align: right;\n        }\n         table tbody tr td span{\n           float: right;\n           font-weight: bold;\n        }\n        table tbody tr:last-child td:last-child{\n           background: #ccc;\n        }\n        @media print {\n           table tbody tr:last-child td:last-child,\n           table thead tr th {\n                background-color: #ccc;\n                -webkit-print-color-adjust: exact; \n            }\n        }\n    </style>\n</head>\n<body onload=\"window.print();window.close();\">\n    <div class=\"header\">\n        <div class=\"img\"><img src=\"assets/images/falinic.png\" /></div>\n        <div class=\"info-store\">\n            <h3>" + user.Data.TitleStore + "</h3>\n            <p>" + user.Data.AddressStore + "</p>\n            <p>\u0110T: " + user.Data.PhoneStore + "</p>\n            <p>Gi\u1EDD l\u00E0m vi\u1EC7c: S\u00E1ng <span>" + user.Data.StartWorkingStore + "</span></p>\n            <p>Chi\u1EC1u: <span>" + user.Data.EndWorkingStore + "</span> (Ng\u00E0y l\u1EC5 ngh\u1EC9)</p>\n        </div>\n    </div>\n    <div class=\"title\">\n      <div>\n        <h1>B\u1EA2NG K\u00CA CHI TI\u1EBET N\u1ED8P TI\u1EC0N</h1>\n        <h3>Doanh s\u1ED1 ng\u00E0y\n          " + format_1.Format.getDD(new Date(startDate)) + "/" + format_1.Format.getMM(new Date(startDate)) + "/" + format_1.Format.getYYYY(new Date(startDate)) + "\n          - " + format_1.Format.getDD(new Date(endDate)) + "/" + format_1.Format.getMM(new Date(endDate)) + "/" + format_1.Format.getYYYY(new Date(endDate)) + "\n        </h3>\n      </div>\n    </div>\n    <div>\n       <table class=\"table\">\n    <thead>\n      <tr>\n        <th>STT</th>\n        <th>N\u1ED8I DUNG</th>\n        <th>S\u1ED0 L\u01AF\u1EE2NG/TH\u00C0NH TI\u1EC0N</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td>1</td>\n        <td>S\u1ED1 l\u01B0\u1EE3ng kh\u00E1ch h\u00E0ng <span>(A)</span></td>\n        <td>" + dataSource.CountRegistration + "</td>\n      </tr>\n      <tr>\n        <td>2</td>\n        <td>S\u1ED1 l\u01B0\u1EE3ng d\u1ECBch v\u1EE5 l\u1EBB<span>(B)</span></td>\n        <td>" + dataSource.CountService + "</td>\n      </tr>\n      <tr>\n        <td>3</td>\n        <td>T\u1ED5ng ti\u1EC1n d\u1ECBch v\u1EE5 l\u1EBB(\u0110\u00E3 thu) <span>(C)</span></td>\n        <td>" + string_1.String.FormatInputNumber(dataSource.SumServiceReceive) + " VN\u0110</td>\n      </tr>\n      <tr>\n        <td>4</td>\n        <td>T\u1ED5ng ti\u1EC1n d\u1ECBch v\u1EE5 l\u1EBB(Chi tr\u1EA3)<span>(D)</span></td>\n        <td>" + string_1.String.FormatInputNumber(dataSource.SumServicePaid) + " VN\u0110</td>\n      </tr>\n      <tr>\n        <td>5</td>\n        <td>S\u1ED1 l\u01B0\u1EE3ng d\u1ECBch v\u1EE5 g\u00F3i <span>(E)</span></td>\n        <td>" + dataSource.CountGroupService + "</td>\n      </tr>\n      <tr>\n        <td>6</td>\n        <td>T\u1ED5ng ti\u1EC1n d\u1ECBch v\u1EE5 g\u00F3i(\u0110\u00E3 thu)<span>(F)</span></td>\n        <td>" + string_1.String.FormatInputNumber(dataSource.SumGroupServiceReceive) + " VN\u0110</td>\n      </tr>\n      <tr>\n        <td>7</td>\n        <td>T\u1ED5ng ti\u1EC1n d\u1ECBch v\u1EE5 g\u00F3i(Chi tr\u1EA3)<span>(G)</span></td>\n        <td>" + string_1.String.FormatInputNumber(dataSource.SumGroupServicePaid) + " VN\u0110</td>\n      </tr>\n      <tr>\n        <td>8</td>\n        <td>S\u1ED1 l\u01B0\u1EE3ng toa thu\u1ED1c <span>(H)</span></td>\n        <td>" + dataSource.CountPrescription + "</td>\n      </tr>\n      <tr>\n        <td>9</td>\n        <td>T\u1ED5ng ti\u1EC1n toa thu\u1ED1c <span>(I)</span></td>\n        <td>" + string_1.String.FormatInputNumber(dataSource.SumPrescriptionReceive) + " VN\u0110</td>\n      </tr>\n      <tr>\n        <td>10</td>\n        <td>T\u1ED5ng ti\u1EC1n m\u1EB7t th\u1EF1c t\u1EBF <span>(J=C-D+F-G)</span></td>\n        <td>" + string_1.String.FormatInputNumber(total) + " VN\u0110</td>\n      </tr>\n    </tbody>\n  </table>\n    </div>\n    <div class=\"content-bottom\">\n\t\t  <div class=\"right\">\n\t\t\t  <p>Ng\u00E0y " + format_1.Format.getDD(new Date()) + " th\u00E1ng " + format_1.Format.getMM(new Date()) + " n\u0103m " + format_1.Format.getYYYY(new Date()) + "</p>\n        <h3>" + user.Data.Position + "</h3>\n\t\t  </div>\n\t  </div>\n</body>\n</html>\n\n\n";
        //<h3>${user.Data.Position}. ${user.Data.FullName}</h3>
        var a = window.open('', '_blank', 'top=0,left=0,height=800px,width=1350px');
        if (a == null)
            return;
        a.document.open();
        a.document.write(html);
        a.document.close();
    };
    Print.printRPLDAcountant = function (dataSource, startDate, endDate) {
        var user = localstorageconfig_1.LocalStorageConfig.GetUser(), total = dataSource.SumServiceReceive + dataSource.SumGroupServiceReceive;
        var html = "<!doctype html>\n<html lang=\"en\">\n<head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <style>\n       .header {\n            text-align: center;\n            border-bottom: 2px solid #69a3d8;\n            display: flex;\n            height: 80px;\n            padding: 0 0 20px 0;\n        }\n        .header .img {\n            width: 30%;\n            text-align: left;\n        }\n        .header .img img {\n            width:100%;\n            height: 100%;\n        }\n        .header .info-store {\n            line-height: 2px;\n            font-size: 14px;\n            text-align: right;\n            width: 70%;\n        }\n        .header .info-store h3{\n            text-transform: uppercase;\n        }\n        .title {\n            border-top: 5px solid #1b3e77;\n            text-align:center;\n        }\n        .title div {\n            border: 1px dotted #69a3d8;\n            border-radius: 10px;\n            margin-top: 5px;\n        }\n\n        .title h1, .title h3 {\n            margin: 0;\n        }\n        .right h3{\n            margin-bottom: 0;\n        }\n        .right div{\n            display: flex;\n        }\n        .right p:nth-child(2){\n            margin-left: 15px;\n        }\n        .left h3{\n            text-transform: uppercase;\n        }\n        .content-service {\n            border-bottom: 1px dotted #69a3d8;\n            border-top: 1px dotted #69a3d8;\n        }\n        .item_name{\n\t\t      width: 80%;\n\t\t\t    font-weight: bold;\n          word-break: break-all;\n          line-height: 15px;\n\t\t    }\n\t\t    .unit_name{\n\t\t\t    text-align: right;\n\t\t\t    width: 20%;\n          line-height: 15px;\n\t\t    }\n\t\t    .item_use,.item_note{\n\t\t\t    font-style: italic;\n\t\t    }\n        .m-5 p{\n          margin-top:5px;\n\t\t    }\n        .flex{\n\t\t\t    display: flex;\n\t\t    }\n\t\t    .flex .left{\n\t\t\t    width: 50%;\n\t\t    }\n        .flex .center{\n\t\t\t    width: 25%;\n\t\t    }\n        .flex .right{\n\t\t\t    width: 25%;\n\t\t    }\n        .flex p, .flex h3{\n          margin: 0;\n        }\n        .footer{\n            float: right;\n            text-align: right;\n        }\n        .footer p:nth-child(1n+1){\n            text-align: center;\n        }\n        p{\n            font-size: 12px;\n        }\n        .content-info{\n            line-height: 15px;\n        }\n        .content-info h3{\n            margin-bottom: 2px;\n            margin-top: 2px;\n        }\n        .right{\n            text-align: right;\n        }\n        @page  \n        { \n            size: auto;\n            margin: 15mm 15mm 15mm 15mm;  \n        }\n        .text-center{\n            text-align: center;\n        }\n        .content-service .row{\n            display: flex;\n        }\n        .content-service{\n            line-height: 0;\n        }\n        \n        .service_name{\n            width:80%;\n        }\n        .service_price{\n            width: 20%;\n            text-align: right;\n        }\n        .content-bottom{\n          margin-top: 5px;\n          \n\t\t    }\n\t\t    .content-bottom .right h3{\n\t\t\t    margin-top: 100px;\n\t\t    }\n        .float_right{float:right;}\n        .content-info p, .content-service p, .content-bottom p{\n            font-size: 15px;\n        }\n        table{\n            width:100%;\n            border: 1px solid #ddd;\n            margin-top: 20px;\n        }\n        table thead tr th, table tbody tr td{\n            border: 1px solid #ddd;\n        }\n        table thead tr th{\n            background: #ccc;\n        }\n        table tbody tr td, table thead tr th{\n           font-size: 20px;\n        }\n        table tbody tr td:first-child{\n           text-align: center;\n        }\n        table tbody tr td:last-child{\n           text-align: right;\n        }\n         table tbody tr td span{\n           float: right;\n           font-weight: bold;\n        }\n        table tbody tr:last-child td:last-child{\n           background: #ccc;\n        }\n        @media print {\n           table tbody tr:last-child td:last-child,\n           table thead tr th {\n                background-color: #ccc;\n                -webkit-print-color-adjust: exact; \n            }\n        }\n    </style>\n</head>\n<body onload=\"window.print();window.close();\">\n    <div class=\"header\">\n        <div class=\"img\"><img src=\"assets/images/falinic.png\" /></div>\n        <div class=\"info-store\">\n            <h3>" + user.Data.TitleStore + "</h3>\n            <p>" + user.Data.AddressStore + "</p>\n            <p>\u0110T: " + user.Data.PhoneStore + "</p>\n            <p>Gi\u1EDD l\u00E0m vi\u1EC7c: S\u00E1ng <span>" + user.Data.StartWorkingStore + "</span></p>\n            <p>Chi\u1EC1u: <span>" + user.Data.EndWorkingStore + "</span> (Ng\u00E0y l\u1EC5 ngh\u1EC9)</p>\n        </div>\n    </div>\n    <div class=\"title\">\n      <div>\n        <h1>B\u1EA2NG K\u00CA CHI TI\u1EBET N\u1ED8P TI\u1EC0N</h1>\n        <h3>Doanh s\u1ED1 ng\u00E0y\n          " + format_1.Format.getDD(new Date(startDate)) + "/" + format_1.Format.getMM(new Date(startDate)) + "/" + format_1.Format.getYYYY(new Date(startDate)) + "\n          - " + format_1.Format.getDD(new Date(endDate)) + "/" + format_1.Format.getMM(new Date(endDate)) + "/" + format_1.Format.getYYYY(new Date(endDate)) + "\n        </h3>\n      </div>\n    </div>\n    <div>\n       <table class=\"table\">\n    <thead>\n      <tr>\n        <th>STT</th>\n        <th>N\u1ED8I DUNG</th>\n        <th>S\u1ED0 L\u01AF\u1EE2NG/TH\u00C0NH TI\u1EC0N</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td>1</td>\n        <td>S\u1ED1 l\u01B0\u1EE3ng kh\u00E1ch h\u00E0ng <span>(A)</span></td>\n        <td>" + dataSource.CountRegistration + "</td>\n      </tr>\n      <tr>\n        <td>2</td>\n        <td>S\u1ED1 l\u01B0\u1EE3ng d\u1ECBch v\u1EE5 l\u1EBB<span>(B)</span></td>\n        <td>" + dataSource.CountService + "</td>\n      </tr>\n      <tr>\n        <td>3</td>\n        <td>T\u1ED5ng ti\u1EC1n d\u1ECBch v\u1EE5 l\u1EBB(\u0110\u00E3 thu) <span>(C)</span></td>\n        <td>" + string_1.String.FormatInputNumber(dataSource.SumServiceReceive) + " VN\u0110</td>\n      </tr>\n      <tr>\n        <td>4</td>\n        <td>T\u1ED5ng ti\u1EC1n d\u1ECBch v\u1EE5 l\u1EBB(Chi tr\u1EA3)<span>(D)</span></td>\n        <td>" + string_1.String.FormatInputNumber(dataSource.SumServicePaid) + " VN\u0110</td>\n      </tr>\n      <tr>\n        <td>5</td>\n        <td>S\u1ED1 l\u01B0\u1EE3ng d\u1ECBch v\u1EE5 g\u00F3i <span>(E)</span></td>\n        <td>" + dataSource.CountGroupService + "</td>\n      </tr>\n      <tr>\n        <td>6</td>\n        <td>T\u1ED5ng ti\u1EC1n d\u1ECBch v\u1EE5 g\u00F3i(\u0110\u00E3 thu)<span>(F)</span></td>\n        <td>" + string_1.String.FormatInputNumber(dataSource.SumGroupServiceReceive) + " VN\u0110</td>\n      </tr>\n      <tr>\n        <td>7</td>\n        <td>T\u1ED5ng ti\u1EC1n d\u1ECBch v\u1EE5 g\u00F3i(Chi tr\u1EA3)<span>(G)</span></td>\n        <td>" + string_1.String.FormatInputNumber(dataSource.SumGroupServicePaid) + " VN\u0110</td>\n      </tr>\n      <tr>\n        <td>8</td>\n        <td>S\u1ED1 l\u01B0\u1EE3ng toa thu\u1ED1c <span>(H)</span></td>\n        <td>" + dataSource.CountPrescription + "</td>\n      </tr>\n      <tr>\n        <td>9</td>\n        <td>T\u1ED5ng ti\u1EC1n toa thu\u1ED1c <span>(I)</span></td>\n        <td>" + string_1.String.FormatInputNumber(dataSource.SumPrescriptionReceive) + " VN\u0110</td>\n      </tr>\n      <tr>\n        <td>10</td>\n        <td>T\u1ED5ng ti\u1EC1n m\u1EB7t th\u1EF1c t\u1EBF <span>(J=C+F)</span></td>\n        <td>" + string_1.String.FormatInputNumber(total) + " VN\u0110</td>\n      </tr>\n    </tbody>\n  </table>\n    </div>\n    <div class=\"content-bottom\">\n\t\t  <div class=\"right\">\n\t\t\t  <p>Ng\u00E0y " + format_1.Format.getDD(new Date()) + " th\u00E1ng " + format_1.Format.getMM(new Date()) + " n\u0103m " + format_1.Format.getYYYY(new Date()) + "</p>\n        <h3>" + user.Data.Position + "</h3>\n\t\t  </div>\n\t  </div>\n</body>\n</html>\n\n\n";
        //<h3>${user.Data.Position}. ${user.Data.FullName}</h3>
        var a = window.open('', '_blank', 'top=0,left=0,height=800px,width=1350px');
        if (a == null)
            return;
        a.document.open();
        a.document.write(html);
        a.document.close();
    };
    return Print;
}());
exports.Print = Print;
//# sourceMappingURL=print.js.map